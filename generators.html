<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üé≠ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ù–ü–° —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <header>
      <h1>üé≠ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ù–ü–°</h1>
    </header>

    <nav>
      <a href="index.html" class="btn-back">
        <span class="arrow">‚Üê</span>
        <span class="text">–í –º–µ–Ω—é</span>
      </a>
    </nav>

    <main>
      <p>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º:</p>

      <div class="image-container">
        <img id="npc-image" src="https://via.placeholder.com/800x600/3a2a1a/8b6f47?text=–ì–µ–Ω–µ—Ä–∞—Ü–∏—è..." alt="–ö–∞—Ä—Ç–∏–Ω–∫–∞ –ù–ü–°" class="npc-image" />
        <div class="image-caption">–°–ª—É—á–∞–π–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂</div>
      </div>

      <div id="npc-result" class="npc-output">
        –ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –ù–ü–°...
      </div>

      <button id="generate-npc" class="btn-primary">
        üé≤ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ù–ü–°
      </button>
    </main>

    <footer>
      <p>–ö–∞–∂–¥—ã–π –ù–ü–° ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Å–æ—é–∑–Ω–∏–∫, –≤—Ä–∞–≥ –∏–ª–∏ —Ç–∞–π–Ω–∞</p>
    </footer>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const button = document.getElementById("generate-npc");
      const result = document.getElementById("npc-result");
      const image = document.getElementById("npc-image");

      const names = ["–ê–ª—å–¥—Ä–µ–¥", "–õ–∏—Ä–∞", "–ì—Ä–æ–º–≤–∞–ª—å–¥", "–ú–æ—Ä–≥–∞–Ω", "–§–µ–Ω—Ä–∏—Å", "–ó–µ–ª—å–¥–∞", "–î—Ä–æ–≥–∞–Ω", "–≠–ª–∞—Ä–∏—è"];
      const races = ["—á–µ–ª–æ–≤–µ–∫", "—ç–ª—å—Ñ", "–≥–Ω–æ–º", "–ø–æ–ª—É—Ä–æ—Å–ª–∏–∫", "–æ—Ä–∫", "—Ç–∏—Ñ–ª–∏–Ω–≥", "–¥—Ä–∞–∫–æ–Ω–æ—Ä–æ–∂–¥—ë–Ω–Ω—ã–π"];
      const roles = [
        "—Ç–æ—Ä–≥–æ–≤–µ—Ü –∑–µ–ª—å—è–º–∏", "–±—Ä–æ–¥—è—á–∏–π –±–∞—Ä–¥", "—Å—Ç–∞—Ä—ã–π –º–∞–≥", "—à–ø–∏–æ–Ω",
        "—Å–≤—è—â–µ–Ω–Ω–∏–∫", "–Ω–∞—ë–º–Ω–∏–∫", "–∞—Ä—Ö–µ–æ–ª–æ–≥", "—à—É—Ç", "–ª–µ—Å–Ω–æ–π —Å—Ç—Ä–∞–∂", "—Ü–µ–ª–∏—Ç–µ–ª—å"
      ];
      const traits = ["–≥–æ–≤–æ—Ä–∏—Ç –∑–∞–≥–∞–¥–∫–∞–º–∏", "–≤—Å–µ–≥–¥–∞ –≤—Ä—ë—Ç", "–±–æ–∏—Ç—Å—è —Ç–µ–º–Ω–æ—Ç—ã", "–Ω–æ—Å–∏—Ç –º–∞—Å–∫—É", "–ø–æ—ë—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏"];
      const secrets = ["—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –∑–ª–æ–¥–µ—è", "–ø—Ä–æ–∫–ª—è—Ç", "–∂–∏–≤—ë—Ç –ø–æ–¥ —á—É–∂–∏–º –∏–º–µ–Ω–µ–º", "–º–æ–∂–µ—Ç –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å—Å—è –≤ –∑–≤–µ—Ä—è"];

      // –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫
      const roleImages = {
        "—Ç–æ—Ä–≥–æ–≤–µ—Ü –∑–µ–ª—å—è–º–∏": "alchemist, potion, shop, fantasy",
        "–±—Ä–æ–¥—è—á–∏–π –±–∞—Ä–¥": "minstrel, lute, musician, medieval",
        "—Å—Ç–∞—Ä—ã–π –º–∞–≥": "wizard, old, magic, spell",
        "—à–ø–∏–æ–Ω": "spy, cloak, stealth, shadow",
        "—Å–≤—è—â–µ–Ω–Ω–∏–∫": "priest, holy, temple, ritual",
        "–Ω–∞—ë–º–Ω–∏–∫": "mercenary, armor, sword, warrior",
        "–∞—Ä—Ö–µ–æ–ª–æ–≥": "archaeologist, ruins, explorer, ancient",
        "—à—É—Ç": "jester, clown, court, funny",
        "–ª–µ—Å–Ω–æ–π —Å—Ç—Ä–∞–∂": "ranger, forest, bow, nature",
        "—Ü–µ–ª–∏—Ç–µ–ª—å": "healer, herbs, mystical, potion"
      };

      button.addEventListener("click", () => {
        const name = names[Math.floor(Math.random() * names.length)];
        const race = races[Math.floor(Math.random() * races.length)];
        const role = roles[Math.floor(Math.random() * roles.length)];
        const trait = traits[Math.floor(Math.random() * traits.length)];
        const secret = secrets[Math.floor(Math.random() * secrets.length)];

        // –§–æ—Ä–º–∏—Ä—É–µ–º URL —á–µ—Ä–µ–∑ CORS-–ø—Ä–æ–∫—Å–∏
        const keywords = roleImages[role] || "fantasy, character";
        const imageUrl = `https://corsproxy.io/?https://source.unsplash.com/random/800x600/?${keywords}&t=${Date.now()}`;

        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É
        image.src = imageUrl;
        image.alt = `–ù–ü–°: ${role}`;

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
        image.onerror = () => {
          image.src = "https://via.placeholder.com/800x600/4a2f1a/d4af37?text=–ù–ü–°+–Ω–µ+–∑–∞–≥—Ä—É–∑–∏–ª—Å—è";
          image.alt = "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ";
        };

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
        result.innerHTML = `
          <strong>üë§ –ò–º—è:</strong> ${name}<br>
          <strong>üßù‚Äç‚ôÇÔ∏è –†–∞—Å–∞:</strong> ${race}<br>
          <strong>üíº –†–æ–ª—å:</strong> ${role}<br>
          <strong>üé≠ –ß–µ—Ä—Ç–∞:</strong> ${trait}<br>
          <strong>ü§´ –°–µ–∫—Ä–µ—Ç:</strong> ${secret}
        `;
      });
    });
  </script>
</body>
</html>
