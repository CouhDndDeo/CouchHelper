<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üåç –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–µ—Å—Ç —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <header>
      <h1>üåç –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–µ—Å—Ç</h1>
    </header>

    <nav>
      <a href="index.html" class="btn-back">
        <span class="arrow">‚Üê</span>
        <span class="text">–í –º–µ–Ω—é</span>
      </a>
    </nav>

    <main>
      <p>–°–æ–∑–¥–∞—ë—Ç –ª–æ–∫–∞—Ü–∏—é —Å –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–æ–π:</p>

      <div class="image-container">
        <img id="location-image" src="https://via.placeholder.com/800x600/3a2a1a/8b6f47?text=–ó–∞–≥—Ä—É–∑–∫–∞+–ª–æ–∫–∞—Ü–∏–∏..." alt="–õ–æ–∫–∞—Ü–∏—è" class="npc-image" />
        <div class="image-caption">–°–ª—É—á–∞–π–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è</div>
      </div>

      <div id="location-result" class="npc-output">
        –ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –ª–æ–∫–∞—Ü–∏—è...
      </div>

      <button id="generate-location" class="btn-primary">
        üåê –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ
      </button>
    </main>

    <footer>
      <p>–ö–∞–∂–¥–æ–µ –º–µ—Å—Ç–æ ‚Äî –º–∏–Ω–∏-—Å—é–∂–µ—Ç</p>
    </footer>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const button = document.getElementById("generate-location");
      const result = document.getElementById("location-result");
      const image = document.getElementById("location-image");

      const types = [
        "–∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã–π —Ö—Ä–∞–º", "–ø–æ–¥–∑–µ–º–Ω–∞—è –ø–µ—â–µ—Ä–∞", "—Å—Ç–∞—Ä–∏–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞",
        "–¥–µ—Ä–µ–≤–Ω—è –Ω–∞ –±–æ–ª–æ—Ç–µ", "–∑–∞–º–æ–∫ –Ω–∞ —Å–∫–∞–ª–µ", "–ª–µ—Å —Å –ø—Ä–∏–∑—Ä–∞–∫–∞–º–∏",
        "–ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–π –º–æ–Ω–∞—Å—Ç—ã—Ä—å", "–ø–∏—Ä–∞—Ç—Å–∫–∞—è –±—É—Ö—Ç–∞", "–≥–æ—Ä–Ω–∞—è –∫—É–∑–Ω—è –≥–Ω–æ–º–æ–≤"
      ];

      const themes = {
        —Ñ—ç–Ω—Ç–µ–∑–∏: { color: "#3498db", img: "fantasy, castle, magic, dragon" },
        —Ö–æ—Ä—Ä–æ—Ä: { color: "#e74c3c", img: "horror, dark, scary, blood" },
        —Å—Ç–∏–º–ø–∞–Ω–∫: { color: "#f39c12", img: "steampunk, gears, machine, airship" },
        –ø–æ—Å—Ç–∞–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å: { color: "#2ecc71", img: "post-apocalyptic, ruins, wasteland, desert" }
      };

      const events = [
        "–Ω–∞—á–∞–ª—Å—è —Å—Ç—Ä–∞–Ω–Ω—ã–π —Ä–∏—Ç—É–∞–ª", "–æ–±–Ω–∞—Ä—É–∂–µ–Ω –¥—Ä–µ–≤–Ω–∏–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç",
        "–ø–æ—è–≤–∏–ª—Å—è –ø–æ—Ä—Ç–∞–ª", "–≤—Å–µ –∂–∏—Ç–µ–ª–∏ –≤–ø–∞–ª–∏ –≤ —Ç—Ä–∞–Ω—Å"
      ];

      const themeNames = Object.keys(themes);

      button.addEventListener("click", () => {
        const theme = themeNames[Math.floor(Math.random() * themeNames.length)];
        const type = types[Math.floor(Math.random() * types.length)];
        const event = events[Math.floor(Math.random() * events.length)];
        const name = generateName(theme);
        const fullType = type;

        // –§–æ—Ä–º–∏—Ä—É–µ–º URL
        const imgQuery = `${themes[theme].img}, ${type.replace(/ /g, ', ')}`;
        const imageUrl = `https://corsproxy.io/?https://source.unsplash.com/random/800x600/?${imgQuery}&t=${Date.now()}`;

        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É
        image.src = imageUrl;
        image.alt = `–õ–æ–∫–∞—Ü–∏—è: ${type}`;

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
        image.onerror = () => {
          image.src = "https://via.placeholder.com/800x600/4a2f1a/d4af37?text=–õ–æ–∫–∞—Ü–∏—è+–Ω–µ+–∑–∞–≥—Ä—É–∂–µ–Ω–∞";
          image.alt = "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ";
        };

        result.innerHTML = `
          <strong>üìç –ù–∞–∑–≤–∞–Ω–∏–µ:</strong> <span style="color:${themes[theme].color}">${name}</span><br>
          <strong>üåå –¢–µ–º–∞:</strong> ${theme}<br>
          <strong>üè∞ –¢–∏–ø:</strong> ${fullType}<br>
          <strong>üí• –°–æ–±—ã—Ç–∏–µ:</strong> ${event}<br>
          <strong>üîó –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å:</strong> –∑–¥–µ—Å—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ü–µ–ø–æ—á–∫–∞ —Å–æ–±—ã—Ç–∏–π
        `;
      });

      function generateName(theme) {
        const prefixes = {
          —Ñ—ç–Ω—Ç–µ–∑–∏: ["–¢—ë–º–Ω—ã–π", "–°–≤—è—â–µ–Ω–Ω—ã–π", "–°—Ç–∞—Ä—ã–π"],
          —Ö–æ—Ä—Ä–æ—Ä: ["–ì–Ω–∏–ª–æ–π", "–ú–æ–ª—á–∞–ª–∏–≤—ã–π", "–ö—Ä–æ–≤–∞–≤—ã–π"],
          —Å—Ç–∏–º–ø–∞–Ω–∫: ["–ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π", "–ü–∞—Ä–æ–≤–æ–π", "–ñ–µ–ª–µ–∑–Ω—ã–π"],
          –ø–æ—Å—Ç–∞–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å: ["–û–±–≥–æ—Ä–µ–≤—à–∏–π", "–†–∂–∞–≤—ã–π", "–ú—ë—Ä—Ç–≤—ã–π"]
        };
        const suffixes = ["–≥—Ä–∞–¥", "—Ö–æ–ª–º", "–æ—Å—Ç—Ä–æ–≤", "–ª–µ—Å", "–≥–æ—Ä–æ–¥"];
        return prefixes[theme][Math.floor(Math.random() * prefixes[theme].length)] + " " + suffixes[Math.floor(Math.random() * suffixes.length)];
      }
    });
  </script>
</body>
</html>
